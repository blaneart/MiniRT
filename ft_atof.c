/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ft_atof_bonus.c                                    :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: ablanar <ablanar@student.42.fr>            +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2019/12/16 16:46:06 by ablanar           #+#    #+#             */
/*   Updated: 2020/02/12 21:31:12 by ablanar          ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "ft_ray.h"

float	ft_atof(char *s)
{
	int		i;
	float	r;
	int		k;
	int		a;
	int		n;

	n = 1;
	r = 0;
	k = 0;
	i = 0;
	a = ft_atoi(s);
	if (*s == '-' && a == 0)
		n = -1;
	while (s[i] != ' ' && s[i] != '.' && s[i] != '\0' && s[i] != ',')
		i++;
	if (s[i] != '.')
		return (a);
	i++;
	while (s[i] >= '0' && s[i] <= '9')
	{
		r = r * 10 + (s[i] - 48);
		i++;
		k--;
	}
	return (n >= 0 && a >= 0 ? (r * pow(10, k) + a) : n * a - (r * pow(10, k)));
}
